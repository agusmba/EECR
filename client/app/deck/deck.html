<navbar></navbar>

<div class="container">
  <div class="semitransBox editorMazos">

    <!-- MAZO ANTIGUO / EN USO -->

    <div class="row">
      <h1><i class="fa fa-archive"></i> Editor de Mazos de {{ deck.me.name }}</h1>
      <h3 id="deck" class=""><i class="fa fa-check-circle"></i> Mazo Activo</h3>
      <div class="filtros">
        <button id="single-button" type="button" class="btn btn-success" ng-click="deck.clonarDeck()">Clonar en el editor de Nuevo Mazo</button>
      </div>
      <div ng-repeat="carta in deck.deck">
        <div class="carta">
          <div class="imagen">
            <img src="../assets/images/cartas/{{ carta.nombre }}.100.png" alt="{{ carta.nombre }}.png">
            <h5 class="{{carta.calidad}} text-center"><span>{{ carta.nombre }}</span></h5>
          </div>
        </div>
      </div>
    </div>

    <!-- MAZO NUEVO -->

    <div class="row">
      <h3 id="newDeck" class=""><i class="fa fa-check-circle-o"></i> Nuevo Mazo ({{ total }} huecos libres)</h3>
      <div class="filtros">
        <button id="single-button" type="button" class="btn btn-danger" ng-click="deck.vaciarNewDeck()" ng-hide="hideVaciar">Vaciar</button>
        <button id="single-button" type="button" class="btn btn-success" ng-click="deck.guardarNewDeck()" ng-hide="hideGuardar">Guardar</button>
      </div>
    </div>

    <div class="row">
      <div ng-repeat="carta in deck.newDeck">
        <a href="#newDeck" ng-mousedown="deck.delCarta(carta)" title="{{ carta.nombre }}">
          <div class="carta">
            <div class="imagen">
              <img src="../assets/images/cartas/{{ carta.nombre }}.100.png" alt="{{ carta.nombre }}.png">
              <div class="action_del"></div>
              <div>
                <h5 class="{{carta.calidad}} text-center"><span>{{ carta.nombre }}</span></h5>
              </div>
            </div>
          </div>
        </a>
      </div>
    </div>

    <!-- LISTA DE CARTAS -->

    <div class="row">
      <h3 id="cartas" class=""><i class="fa fa-circle-thin"></i> Cartas Seleccionables</h3>
      <div class="filtros">
        <div class="btn-group" uib-dropdown is-open="status.isopen">
          <button id="single-button" type="button" class="btn btn-primary" uib-dropdown-toggle ng-disabled="disabled">
            {{ calidadFiltroTexto }} <span class="caret"></span>
          </button>
          <ul uib-dropdown-menu role="menu" aria-labelledby="single-button">
            <li role="menuitem" ng-repeat="calidad in deck.calidades"><a href="#" ng-click="deck.setCalidad(calidad)">{{ calidad }}</a></li>
            <li class="divider"></li>
            <li role="menuitem"><a href="#" ng-click="deck.setCalidad('all')">Mostrar todo</a></li>
          </ul>
        </div>
        <div class="btn-group" uib-dropdown is-open="status.isopen2">
          <button id="single-button" type="button" class="btn btn-success" uib-dropdown-toggle ng-disabled="disabled">
            {{ costeFiltroTexto }} <span class="caret"></span>
          </button>
          <ul uib-dropdown-menu role="menu" aria-labelledby="single-button">
            <li role="menuitem" ng-repeat="coste in deck.costes"><a href="#" ng-click="deck.setCoste(coste)">{{ coste }}</a></li>
            <li class="divider"></li>
            <li role="menuitem"><a href="#" ng-click="deck.setCoste('all')">Mostrar todo</a></li>
          </ul>
        </div>
        <div class="btn-group" uib-dropdown is-open="status.isopen3">
          <button id="single-button" type="button" class="btn btn-warning" uib-dropdown-toggle ng-disabled="disabled">
            {{ tipoFiltroTexto }} <span class="caret"></span>
          </button>
          <ul uib-dropdown-menu role="menu" aria-labelledby="single-button">
            <li role="menuitem" ng-repeat="tipo in deck.tipos"><a href="#" ng-click="deck.setTipo(tipo)">{{ tipo }}</a></li>
            <li class="divider"></li>
            <li role="menuitem"><a href="#" ng-click="deck.setTipo('all')">Mostrar todo</a></li>
          </ul>
        </div>
        <div class="btn-group" uib-dropdown is-open="status.isopen4">
          <button id="single-button" type="button" class="btn btn-danger" uib-dropdown-toggle ng-disabled="disabled">
            {{ arenaFiltroTexto }} <span class="caret"></span>
          </button>
          <ul uib-dropdown-menu role="menu" aria-labelledby="single-button">
            <li role="menuitem" ng-repeat="arena in deck.arenas"><a href="#" ng-click="deck.setArena(arena)">{{ arena }}</a></li>
            <li class="divider"></li>
            <li role="menuitem"><a href="#" ng-click="deck.setArena('all')">Mostrar todo</a></li>
          </ul>
        </div>
        <button id="single-button" type="button" class="btn btn-default" ng-click="deck.setClearAll()">Limpar Filtros</button>
      </div>
    </div>

    <div class="row">
      <div ng-repeat="carta in deck.cartas | filter:allFiltro">
        <a href="#cartas" ng-mousedown="deck.addCarta(carta)" title="{{ carta.nombre }}">
          <div class="carta">
            <div class="imagen">
              <img src="../assets/images/cartas/{{ carta.nombre }}.100.png" alt="{{ carta.nombre }}.png">
              <div class="action_add" ng-hide="actionFull"></div>
              <div class="action_full" ng-hide="!actionFull"></div>
              <div>
                  <h5 class="{{carta.calidad}} text-center"><span>{{ carta.nombre }}</span></h5>
              </div>
            </div>
          </div>
        </a>
      </div>
    </div>

  </div>
</div>

<footer></footer>
