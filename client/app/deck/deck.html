<navbar></navbar>

<div class="container">
  <div class="semitransBox editorMazos">

    <!-- MAZO ANTIGUO / EN USO -->

    <div class="row">
      <h1><i class="fa fa-archive"></i> Editor de Mazos de {{ deck.me.name }}</h1>
      <h3 id="deck" class=""><i class="fa fa-check-circle"></i> Mazo Activo</h3>
      <div class="filtros">
        <button id="single-button" type="button" class="btn btn-success" ng-click="deck.clonarDeck()">Clonar en el editor de Nuevo Mazo</button>
      </div>
      <div ng-repeat="carta in deck.deck">
        <div class="carta">
          <div class="imagen">
            <img src="../assets/images/cartas/{{ carta.nombre }}.100.png" alt="{{ carta.nombre }}.png">
            <h5 class="{{carta.calidad}} text-center"><span>{{ carta.nombre }}</span></h5>
          </div>
        </div>
      </div>
    </div>

    <!-- MAZO NUEVO -->

    <div class="row">
      <h3 id="newDeck" class=""><i class="fa fa-check-circle-o"></i> Nuevo Mazo ({{ total }} huecos libres)</h3>
      <div class="filtros">
        <button id="single-button" type="button" class="btn btn-danger" ng-click="deck.vaciarNewDeck()" ng-hide="hideVaciar">Vaciar</button>
        <button id="single-button" type="button" class="btn btn-success" ng-click="deck.guardarNewDeck(deck.deck,deck.newDeck)" ng-hide="hideGuardar">Guardar</button>
      </div>
    </div>

    <div class="row">
      <div ng-repeat="carta in deck.newDeck">
        <a href="#newDeck" ng-mousedown="deck.delCarta(carta)" title="{{ carta.nombre }}">
          <div class="carta">
            <div class="imagen">
              <img src="../assets/images/cartas/{{ carta.nombre }}.100.png" alt="{{ carta.nombre }}.png">
              <div class="action_del"></div>
              <div>
                <h5 class="{{carta.calidad}} text-center"><span>{{ carta.nombre }}</span></h5>
              </div>
            </div>
          </div>
        </a>
      </div>
    </div>

    <!-- LISTA DE CARTAS -->

    <div class="row">
      <h3 id="cartas" class=""><i class="fa fa-circle-thin"></i> Cartas Seleccionables</h3>
      <div class="filtros">
        <div class="btn-group" uib-dropdown is-open="status.isopen">
          <button id="single-button" type="button" class="btn btn-primary" uib-dropdown-toggle ng-disabled="disabled">
            {{ calidadFiltroTexto }} <span class="caret"></span>
          </button>
          <ul uib-dropdown-menu role="menu" aria-labelledby="single-button">
            <li role="menuitem" ng-repeat="calidad in deck.calidades"><a href="#" ng-click="deck.setCalidad(calidad)">{{ calidad }}</a></li>
            <li class="divider"></li>
            <li role="menuitem"><a href="#" ng-click="deck.setCalidad('all')">Mostrar todo</a></li>
          </ul>
        </div>
        <div class="btn-group" uib-dropdown is-open="status.isopen2">
          <button id="single-button" type="button" class="btn btn-success" uib-dropdown-toggle ng-disabled="disabled">
            {{ costeFiltroTexto }} <span class="caret"></span>
          </button>
          <ul uib-dropdown-menu role="menu" aria-labelledby="single-button">
            <li role="menuitem" ng-repeat="coste in deck.costes"><a href="#" ng-click="deck.setCoste(coste)">{{ coste }}</a></li>
            <li class="divider"></li>
            <li role="menuitem"><a href="#" ng-click="deck.setCoste('all')">Mostrar todo</a></li>
          </ul>
        </div>
        <div class="btn-group" uib-dropdown is-open="status.isopen3">
          <button id="single-button" type="button" class="btn btn-warning" uib-dropdown-toggle ng-disabled="disabled">
            {{ tipoFiltroTexto }} <span class="caret"></span>
          </button>
          <ul uib-dropdown-menu role="menu" aria-labelledby="single-button">
            <li role="menuitem" ng-repeat="tipo in deck.tipos"><a href="#" ng-click="deck.setTipo(tipo)">{{ tipo }}</a></li>
            <li class="divider"></li>
            <li role="menuitem"><a href="#" ng-click="deck.setTipo('all')">Mostrar todo</a></li>
          </ul>
        </div>
        <div class="btn-group" uib-dropdown is-open="status.isopen4">
          <button id="single-button" type="button" class="btn btn-danger" uib-dropdown-toggle ng-disabled="disabled">
            {{ arenaFiltroTexto }} <span class="caret"></span>
          </button>
          <ul uib-dropdown-menu role="menu" aria-labelledby="single-button">
            <li role="menuitem" ng-repeat="arena in deck.arenas"><a href="#" ng-click="deck.setArena(arena)">{{ arena }}</a></li>
            <li class="divider"></li>
            <li role="menuitem"><a href="#" ng-click="deck.setArena('all')">Mostrar todo</a></li>
          </ul>
        </div>
        <button id="single-button" type="button" class="btn btn-default" ng-click="deck.setClearAll()">Limpar Filtros</button>
      </div>
    </div>

    <div class="row">
      <div ng-repeat="carta in deck.cartas | filter:allFiltro">
        <a href="#cartas" ng-mousedown="deck.addCarta(carta)" title="{{ carta.nombre }}">
          <div class="carta">
            <div class="imagen">
              <img src="../assets/images/cartas/{{ carta.nombre }}.100.png" alt="{{ carta.nombre }}.png">
              <div class="action_add" ng-hide="actionFull"></div>
              <div class="action_full" ng-hide="!actionFull"></div>
              <div>
                  <h5 class="{{carta.calidad}} text-center"><span>{{ carta.nombre }}</span></h5>
              </div>
            </div>
          </div>
        </a>
      </div>
    </div>

    <!-- TOPS -->
    <div class="wrapper">

      <div class="contenedor_blanco">
        <div class="container">
        <div class="panel panel-default" id="about_us" ng-bind-html="main.infoclan.info().homeTexto">
        </div>
        </div>
      </div>

      <div class="subheader">
        <div class="container" id="top_usadas">
          <h1>TOP</h1>
          <h1>USADAS</h1>
          <h3>Por nuestros <strong>315</strong> usuarios</h3>
          <p>...Â¡y subiendo!</p>
        </div>
      </div>

      <div class="contenedor_blanco">
        <div class="container">
          <div class="row">
          <div class="col-sm-8 col-sm-offset-2 col-md-8 col-md-offset-2 col-lg-6 col-lg-offset-3" id="top_usadas">
            <div ng-repeat="deck in main.mazos">
              <a href="/list/top/{{ deck._id }}" title="">
                <div class="row panel panel-default topCartas">
                <div class="col-xs-3">
                  <h1>TOP #{{ $index+1 }}</h1>
                  <span class="label label-primary">Uso: {{ deck.users.length }}</span>
                  <span class="label label-success">Total: {{ main.getStatUsuarios(deck.users.length) }}%</span>
                  <span class="label label-warning">Coste Medio: {{ main.getCosteMedio(deck) }}</span>
                </div>
                <div class="col-xs-7 pull-right" id="top_usadas_vista">
                  <div ng-repeat="carta in deck.mazo">
                      <div class="carta"><div class="imagen">
                      <img src="../assets/images/cartas/{{ main.getCarta(carta).nombre }}.100.png" alt="{{ main.getCarta(carta).nombre }}.png">
                      <div class="" />
                        <h5 class="{{main.getCarta(carta).calidad}} text-center"><span>{{ main.getCarta(carta).nombre }}</span></h5>
                      </div>
                      </div></div>
                  </div>
                </div>
                </div>
              </a>
            </div>
          </div>
          </div>
        </div>
      </div>
    </div>

    <div class="wrapper">
      <div class="subheader">
        <div class="container" id="top_votadas">
          <h1>TOP</h1>
          <h1>VOTADAS</h1>
          <h3><strong>123456789</strong> votos registrados</h3>
        </div>
      </div>

      <div class="contenedor_blanco">
        <div class="container">
          <div class="row">
          <div class="col-sm-8 col-sm-offset-2 col-md-8 col-md-offset-2 col-lg-6 col-lg-offset-3" id="top_votadas">
            <div ng-repeat="deck in main.mazos">
              <a href="/list/top/{{ deck._id }}" title="">
                <div class="row panel panel-default topCartas">
                <div class="col-xs-3">
                  <h1>TOP #{{ $index+1 }}</h1>
                  <span class="label label-primary">X usuarios</span>
                  <span class="label label-success">X% total</span>
                </div>
                <div class="col-xs-7 pull-right" id="top_votadas_vista">
                  <div ng-repeat="carta in deck.mazo">
                      <div class="carta"><div class="imagen">
                      <img src="../assets/images/cartas/{{ main.getCarta(carta).nombre }}.100.png" alt="{{ main.getCarta(carta).nombre }}.png">
                      <div class="" />
                        <h5 class="{{main.getCarta(carta).calidad}} text-center"><span>{{ main.getCarta(carta).nombre }}</span></h5>
                      </div>
                      </div></div>
                  </div>
                </div>
                </div>
              </a>
            </div>
          </div>
          </div>
        </div>
      </div>
    </div>

  </div>
</div>
